<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Question 3 ‚Äì Code Refactor Relay</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>

  <div class="page">
    <div class="problem-box q3">

      <h2>Question 3 ‚Äì Hard</h2>

      <p>
        <b>Problem:</b> Refactor the following program that schedules jobs to
        maximize total profit. Each job has a deadline and a profit.
        Each job takes 1 unit of time, and only one job can be scheduled at a time.
        <br><br>
        <b>The output must remain unchanged.</b>
      </p>

      <pre>
def schedule(jobs):
    total = 0
    maxd = 0

    for i in range(len(jobs)):
        if jobs[i][1] > maxd:
            maxd = jobs[i][1]

    slots = [-1] * maxd

    for i in range(len(jobs)):
        for j in range(i + 1, len(jobs)):
            if jobs[i][2] < jobs[j][2]:
                jobs[i], jobs[j] = jobs[j], jobs[i]

    for i in range(len(jobs)):
        d = jobs[i][1]
        while d > 0:
            if slots[d - 1] == -1:
                slots[d - 1] = jobs[i][0]
                total = total + jobs[i][2]
                break
            d = d - 1

    return total


jobs = [
    ('A', 2, 100),
    ('B', 1, 19),
    ('C', 2, 27),
    ('D', 1, 25),
    ('E', 3, 15)
]

print(schedule(jobs))
      </pre>

      <p><b>Expected Output:</b></p>
      <pre>
142
      </pre>

      <p><b>Rules:</b></p>
      <ul>
        <li>Do not change the output</li>
        <li>Only refactoring is allowed</li>
        <li>Logic must remain equivalent</li>
        <li>No internet or AI tools</li>
      </ul>

      <!-- ACTION BUTTONS -->
      <div class="actions">
        <button onclick="submitHard()">Submit Final Answer</button>
        <button onclick="finishChallenge()">Finish Challenge</button>
      </div>

    </div>
  </div>

  <!-- SCRIPT SECTION -->
  <script>
    /* üîí PROTECT LEVEL 3 */
    if (localStorage.getItem("mediumDone") !== "yes") {
      alert("‚ùå Please complete Question 2 first.");
      window.location.href = "q2.html";
    }

    /* üì§ GOOGLE FORM SUBMISSION */
    function submitHard() {
      window.open("https://forms.gle/ze7ZG3FtASNffHGu7", "_blank");
    }

    /* ‚úÖ FINAL COMPLETION */
    function finishChallenge() {
      localStorage.setItem("hardDone", "yes");
      alert("üéâ Challenge Completed Successfully!\nThank you for participating.");
      // Optional redirect:
      // window.location.href = "thankyou.html";
    }
  </script>

</body>
</html>
